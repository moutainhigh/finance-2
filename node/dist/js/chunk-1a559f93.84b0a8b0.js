(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a559f93","chunk-4c22f746"],{"1feb":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[e.isForm?e._e():t("div",{staticClass:"login-box"},[t("img",{staticClass:"reg-img",attrs:{src:"/image/home/login.png"}}),t("div",{staticClass:"l-title"},[t("div",[e._v("注册")]),t("img",{staticClass:"close",attrs:{src:"/image/home/close.png"},on:{click:function(r){return e.$emit("close")}}})]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 企业名称")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.companyName,expression:"regForm.companyName"}],attrs:{type:"text",placeholder:"请输入企业工商名称"},domProps:{value:e.regForm.companyName},on:{input:function(r){r.target.composing||e.$set(e.regForm,"companyName",r.target.value)}}})])]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 统一社会信用代码")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.creditCode,expression:"regForm.creditCode"}],attrs:{type:"text",placeholder:"请输入统一社会信用代码"},domProps:{value:e.regForm.creditCode},on:{input:function(r){r.target.composing||e.$set(e.regForm,"creditCode",r.target.value)}}})])]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 联系人")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.userName,expression:"regForm.userName"}],attrs:{type:"text",placeholder:"请输入联系人"},domProps:{value:e.regForm.userName},on:{input:function(r){r.target.composing||e.$set(e.regForm,"userName",r.target.value)}}})])]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 联系电话")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.regForm.mobile,expression:"regForm.mobile",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入联系人电话"},domProps:{value:e.regForm.mobile},on:{input:function(r){r.target.composing||e.$set(e.regForm,"mobile",e._n(r.target.value))},blur:function(r){return e.$forceUpdate()}}})])]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 密码")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.password,expression:"regForm.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.regForm.password},on:{input:function(r){r.target.composing||e.$set(e.regForm,"password",r.target.value)}}})])]),t("div",{staticClass:"l-input"},[t("div",[e._v("* 确认密码")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.repassword,expression:"regForm.repassword"}],attrs:{type:"password",placeholder:"请确认密码"},domProps:{value:e.regForm.repassword},on:{input:function(r){r.target.composing||e.$set(e.regForm,"repassword",r.target.value)}}})])]),t("div",{staticClass:"l-input l-input-code"},[t("div",[e._v("* 验证码")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.regForm.code,expression:"regForm.code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.regForm.code},on:{input:function(r){r.target.composing||e.$set(e.regForm,"code",r.target.value)}}})]),t("div",{staticClass:"code",on:{click:e.sendSms}},[e._v(e._s(e.codeStr))])]),t("div",{staticClass:"l-btns"},[t("div",{staticClass:"l-btn",on:{click:e.doReg}},[e._v("确认注册")]),t("div",{staticClass:"l-btn",on:{click:function(r){return e.$emit("to-login")}}},[e._v("返回登录")])])]),e.isForm?t("div",{staticClass:"login-box"},[t("a-card",{staticStyle:{width:"560px","border-radius":"15px"},attrs:{title:"注册"}},[t("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[t("img",{staticClass:"close",staticStyle:{padding:"0px",width:"27px"},attrs:{src:"/image/home/close.png"},on:{click:function(r){return e.$emit("close")}}})]),t("a-form-model",{ref:"ruleForm",attrs:{model:e.regForm,rules:e.rules,"label-col":{span:6},"wrapper-col":{span:16}}},[t("a-form-model-item",{ref:"companyName",attrs:{label:"企业名称",prop:"companyName"}},[t("a-input",{on:{blur:function(){e.$refs.companyName.onFieldBlur()}},model:{value:e.regForm.companyName,callback:function(r){e.$set(e.regForm,"companyName",r)},expression:"regForm.companyName"}})],1),t("a-form-model-item",{ref:"creditCode",attrs:{label:"统一社会信用代码",prop:"creditCode"}},[t("a-input",{on:{blur:function(){e.$refs.creditCode.onFieldBlur()}},model:{value:e.regForm.creditCode,callback:function(r){e.$set(e.regForm,"creditCode",r)},expression:"regForm.creditCode"}})],1),t("a-form-model-item",{ref:"userName",attrs:{label:"联系人",prop:"userName"}},[t("a-input",{on:{blur:function(){e.$refs.userName.onFieldBlur()}},model:{value:e.regForm.userName,callback:function(r){e.$set(e.regForm,"userName",r)},expression:"regForm.userName"}})],1),t("a-form-model-item",{ref:"mobile",attrs:{label:"联系电话",prop:"mobile"}},[t("a-input",{on:{blur:function(){e.$refs.mobile.onFieldBlur()}},model:{value:e.regForm.mobile,callback:function(r){e.$set(e.regForm,"mobile",r)},expression:"regForm.mobile"}})],1),t("a-form-model-item",{ref:"password",attrs:{label:"密码",prop:"password"}},[t("a-input",{attrs:{type:"password"},on:{blur:function(){e.$refs.password.onFieldBlur()}},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),t("a-form-model-item",{ref:"repassword",attrs:{label:"确认密码",prop:"repassword"}},[t("a-input",{attrs:{type:"password"},on:{blur:function(){e.$refs.repassword.onFieldBlur()}},model:{value:e.regForm.repassword,callback:function(r){e.$set(e.regForm,"repassword",r)},expression:"regForm.repassword"}})],1),t("a-form-model-item",{ref:"code",attrs:{label:"验证码",prop:"code"}},[t("a-input",{on:{blur:function(){e.$refs.code.onFieldBlur()}},model:{value:e.regForm.code,callback:function(r){e.$set(e.regForm,"code",r)},expression:"regForm.code"}},[t("a-button",{attrs:{slot:"suffix",type:"link"},on:{click:e.sendSms},slot:"suffix"},[e._v(e._s(e.codeStr))])],1)],1),t("a-form-model-item",{attrs:{"wrapper-col":{span:20,offset:2}}},[t("a-button",{staticStyle:{width:"45%"},attrs:{type:"primary",size:"large"},on:{click:e.doReg}},[e._v(" 确认注册 ")]),t("a-button",{staticStyle:{"margin-left":"10%",width:"45%"},attrs:{type:"info",size:"large"},on:{click:function(r){return e.$emit("to-login")}}},[e._v(" 返回登录 ")])],1)],1)],1)],1):e._e()])},n=[],i=t("51fe"),a={name:"Reg",props:{isForm:{type:Boolean,default:!1}},data:function(){var e=this,r=function(r,t,o){""===t?o(new Error("请输入确认密码")):t!==e.regForm.password?o(new Error("密码和确认密码不一致")):8!=String(t).length?o(new Error("请输入8位密码，包含字母、数字")):o()};return{codeStr:"获取验证码",time:0,regForm:{userName:"",mobile:"",password:"",companyName:"",creditCode:"",code:"",repassword:""},rules:{userName:[{required:!0,message:"请输入联系人",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{min:11,max:11,message:"请输入正确联系人电话",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:8,message:"请输入8位密码，包含字母、数字",trigger:"blur"}],repassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:r,trigger:"blur"}],companyName:[{required:!0,message:"请输入企业工商名称",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入正确的验证码",trigger:"blur"}]}}},methods:{doReg:function(){var e=this;if(this.isForm)this.$refs.ruleForm.validate((function(r){if(!r)return!1;var t=Object.assign({},e.regForm);delete t.code,delete t.repassword,Object(i["a"])("/finance/userInfo/verifySmsCode",{mobile:t.mobile,smsCode:e.regForm.code,usageType:0}).then((function(r){1==r.content.smsCodeValid?e.reg(t):e.$message.error("验证码已过期")})).catch((function(r){return e.$message.error(r)}))}));else{if(!this.regForm.companyName)return void this.$message.error("请输入企业工商名称");if(!this.regForm.creditCode)return void this.$message.error("请输入统一社会信用代码");if(!this.regForm.userName)return void this.$message.error("请输入联系人");if(!this.regForm.mobile||!/^1[3-9]{1}[0-9]{9}/.test(this.regForm.mobile))return void this.$message.error("请输入正确的联系人电话");if(!this.regForm.password||8!=String(this.regForm.password).length)return void this.$message.error("请输入8位密码，包含字母、数字");if(!this.regForm.repassword||8!=String(this.regForm.password).length||this.regForm.repassword!==this.regForm.password)return void this.$message.error("请输入8位正确的确认密码，包含字母、数字");if(!this.regForm.code||6!=String(this.regForm.code).length)return void this.$message.error("请输入正确的验证码");var r=Object.assign({},this.regForm);delete r.code,delete r.repassword,Object(i["a"])("/finance/userInfo/verifySmsCode",{mobile:r.mobile,smsCode:this.regForm.code,usageType:0}).then((function(t){1==t.content.smsCodeValid?e.reg(r):e.$message.error("验证码已过期")})).catch((function(r){return e.$message.error(r)}))}},reg:function(e){var r=this;this.$http.post("/finance/userInfo/register",e).then((function(e){0==e.data.code?(r.$message.success("注册成功"),r.$emit("do-reg",r.regForm)):r.$message.success(e.data.msg)}))},sendSms:function(){var e=this;if(this.isForm){if(!this.regForm.mobile)return void this.$refs.mobile.onFieldBlur();if(this.regForm.mobile&&!/^1[3-9]{1}[0-9]{9}/.test(this.regForm.mobile))return void this.$refs.mobile.onFieldBlur()}else{if(!this.regForm.mobile)return void this.$message.error("请输入联系人电话");if(this.regForm.mobile&&!/^1[3-9]{1}[0-9]{9}/.test(this.regForm.mobile))return void this.$message.error("请输入正确联系人电话")}0==this.time&&Object(i["b"])("/finance/userInfo/sendSmsCode",{mobile:this.regForm.mobile,usageType:0}).then((function(r){e.time=60,e.codeStr=e.time+"s";var t=setInterval((function(){if(0==e.time)return e.codeStr="获取验证码",void clearInterval(t);e.time--,e.codeStr=e.time+"s"}),1e3)})).catch((function(r){e.$message.error(r)}))}}},s=a,c=(t("5d92"),t("4023")),u=Object(c["a"])(s,o,n,!1,null,"d24422c6",null);r["default"]=u.exports},"51fe":function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"b",(function(){return s})),t.d(r,"a",(function(){return u}));t("e18c"),t("b449");var o=t("5d83"),n=t("82ae"),i=t.n(n);function a(e,r,t){var o=new Date;t&&"number"!=typeof t&&(t=120);var n=Math.floor((o.getTime()+60*t*1e3)/1e3);localStorage.setItem(e,JSON.stringify({expire:n,params:r}))}function s(e,r){return c.apply(this,arguments)}function c(){return c=Object(o["a"])(regeneratorRuntime.mark((function e(r,t){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(r,t);case 2:return o=e.sent,e.abrupt("return",new Promise((function(e,r){0==o.data.code?e(o.data):(console.log(o),r("短信发送失败"))})));case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function u(e,r){return l.apply(this,arguments)}function l(){return l=Object(o["a"])(regeneratorRuntime.mark((function e(r,t){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(r,t);case 2:return o=e.sent,e.abrupt("return",new Promise((function(e,r){0==o.data.code?e(o.data):(console.log(o),r("验证码错误"))})));case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}i.a.defaults.baseURL=location.origin,i.a.defaults.headers={"Content-Type":"application/json;charset=utf-8"}},"5d83":function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));t("e18c"),t("ed0d");function o(e,r,t,o,n,i,a){try{var s=e[i](a),c=s.value}catch(u){return void t(u)}s.done?r(c):Promise.resolve(c).then(o,n)}function n(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}},"5d92":function(e,r,t){"use strict";var o=t("8009"),n=t.n(o);n.a},8009:function(e,r,t){},b449:function(e,r,t){var o=function(e){"use strict";var r,t=Object.prototype,o=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(e,r,t,o){var n=r&&r.prototype instanceof g?r:g,i=Object.create(n.prototype),a=new L(o||[]);return i._invoke=N(e,t,a),i}function u(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(o){return{type:"throw",arg:o}}}e.wrap=c;var l="suspendedStart",m="suspendedYield",d="executing",p="completed",f={};function g(){}function h(){}function v(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(S([])));b&&b!==t&&o.call(b,i)&&(y=b);var F=v.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(r){e[r]=function(e){return this._invoke(r,e)}}))}function $(e,r){function t(n,i,a,s){var c=u(e[n],e,i);if("throw"!==c.type){var l=c.arg,m=l.value;return m&&"object"===typeof m&&o.call(m,"__await")?r.resolve(m.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):r.resolve(m).then((function(e){l.value=e,a(l)}),(function(e){return t("throw",e,a,s)}))}s(c.arg)}var n;function i(e,o){function i(){return new r((function(r,n){t(e,o,r,n)}))}return n=n?n.then(i,i):i()}this._invoke=i}function N(e,r,t){var o=l;return function(n,i){if(o===d)throw new Error("Generator is already running");if(o===p){if("throw"===n)throw i;return E()}t.method=n,t.arg=i;while(1){var a=t.delegate;if(a){var s=C(a,t);if(s){if(s===f)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(o===l)throw o=p,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);o=d;var c=u(e,r,t);if("normal"===c.type){if(o=t.done?p:m,c.arg===f)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(o=p,t.method="throw",t.arg=c.arg)}}}function C(e,t){var o=e.iterator[t.method];if(o===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=r,C(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=u(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function k(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){while(++n<e.length)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:r,done:!0}}return h.prototype=F.constructor=v,v.constructor=h,v[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var r="function"===typeof e&&e.constructor;return!!r&&(r===h||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(F),e},e.awrap=function(e){return{__await:e}},x($.prototype),$.prototype[a]=function(){return this},e.AsyncIterator=$,e.async=function(r,t,o,n,i){void 0===i&&(i=Promise);var a=new $(c(r,t,o,n),i);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(F),F[s]="Generator",F[i]=function(){return this},F.toString=function(){return"[object Generator]"},e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){while(r.length){var o=r.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0],r=e.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(o,n){return s.type="throw",s.arg=e,t.next=o,n&&(t.method="next",t.arg=r),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),f},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),k(t),f}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var n=o.arg;k(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:S(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=r),f}},e}(e.exports);try{regeneratorRuntime=o}catch(n){Function("r","regeneratorRuntime = r")(o)}}}]);